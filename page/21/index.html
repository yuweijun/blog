<!doctype html>




<html class="theme-next mist">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">



<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">


















  

<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css">

<link href="/blog/css/main.css?v=5.0.1" rel="stylesheet" type="text/css">






  <link rel="alternate" href="/blog/atom.xml" title="一" type="application/atom+xml">




  <link rel="shortcut icon" type="image/x-icon" href="/blog/favicon.ico?v=5.0.1">






<meta property="og:type" content="website">
<meta property="og:title" content="一">
<meta property="og:url" content="http://www.4e00.com/page/21/index.html">
<meta property="og:site_name" content="一">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="一">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Mist',
    sidebar: {"position":"left","display":"hide"},
    fancybox: false,
    motion: false,
    duoshuo: {
      userId: 0,
      author: 'Author'
    }
  };
</script>




  <link rel="canonical" href="http://www.4e00.com/blog/page/21/">

  <title> 一 </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="default">

  










  
  
    
  

  <div class="container one-collumn sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/blog/" class="brand" rel="start">
      <span class="site-title">一</span>
    </a>
  </div>
  <p class="site-subtitle">{"type":"编程笔记"}</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/blog/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/blog/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            Archives
          </a>
        </li>
      

      <li class="menu-item menu-item-search">
        <a href="https://www.google.com.hk/search?q=site%3Ahttp://www.4e00.com/blog/" class="popup-trigger">
          <i class="menu-item-icon fa fa-search fa-fw"></i>Search
        </a>
      </li>
    </ul>
  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="//schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/blog/linux/2016/07/01/git-merge-vs-git-rebase.html" itemprop="url">
                  git merge vs git rebase
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2016-07-01T17:36:21+08:00" content="2016-07-01">
              2016-07-01
            </time>
          </span>

          
            <span class="post-category">
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
              
                <span itemprop="about" itemscope itemtype="//schema.org/Thing">
                  <a href="/blog/categories/linux/" itemprop="url" rel="index">
                    <span itemprop="name">linux</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <h2 id="branches-status-before-merge-or-rebase"><a href="#branches-status-before-merge-or-rebase" class="headerlink" title="branches status before merge or rebase"></a>branches status before merge or rebase</h2><img src="/blog/img/linux/git/git-branches-status.svg" title="[git-branches-status]">
<h2 id="branches-status-after-git-merge"><a href="#branches-status-after-git-merge" class="headerlink" title="branches status after git merge"></a>branches status after git merge</h2><img src="/blog/img/linux/git/git-merge-status.svg" title="[git-merge-status]">
<h2 id="branches-status-after-git-rebase"><a href="#branches-status-after-git-rebase" class="headerlink" title="branches status after git rebase"></a>branches status after git rebase</h2><img src="/blog/img/linux/git/git-rebase-status.svg" title="[git-rebase-status]">
          <div class="post-more-link text-center">
            <a class="btn" href="/blog/linux/2016/07/01/git-merge-vs-git-rebase.html#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="//schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/blog/macos/2016/06/21/git-environment-on-mac-os.html" itemprop="url">
                  git environment on mac os x
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2016-06-21T21:52:09+08:00" content="2016-06-21">
              2016-06-21
            </time>
          </span>

          
            <span class="post-category">
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
              
                <span itemprop="about" itemscope itemtype="//schema.org/Thing">
                  <a href="/blog/categories/macos/" itemprop="url" rel="index">
                    <span itemprop="name">macos</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>个人苹果电脑上的<code>.bash_profile</code>设置，主要是关于git的命令行提示和颜色配置。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">export</span> GREP_OPTIONS=<span class="string">'--color=auto'</span></span><span class="line"><span class="built_in">export</span> GREP_COLOR=<span class="string">'1;35;40'</span></span><span class="line"><span class="built_in">export</span> CLICOLOR=1</span><span class="line"><span class="built_in">export</span> LSCOLORS=GxFxCxDxBxegedabagaced</span><span class="line"></span><span class="line"><span class="built_in">alias</span> ll=<span class="string">'ls -la'</span></span><span class="line"></span><span class="line"><span class="comment"># export JAVA_TOOL_OPTIONS=-Dfile.encoding=UTF-8</span></span><span class="line"><span class="comment"># export JAVA_HOME=$(/usr/libexec/java_home -v 1.8)</span></span><span class="line"></span><span class="line"><span class="comment"># git command completion</span></span><span class="line"><span class="built_in">source</span> /Applications/Xcode.app/Contents/Developer/usr/share/git-core/git-completion.bash</span><span class="line"><span class="built_in">source</span> /Applications/Xcode.app/Contents/Developer/usr/share/git-core/git-prompt.sh</span><span class="line"><span class="built_in">export</span> PS1=<span class="string">"\u@\W\[\033[35m\]\$(git branch 2&gt; /dev/null | sed -e '/^[^*]/d' -e 's/* \(.*\)/ (\1)/')\[\033[00m\] \[\033[1;32m\]<i class="fa fa-usd"></i>\[\033[00m\] "</span></span></pre></td></tr></table></figure>
<p>PS1中的命令部分不要提到<code>function</code>里，否则使用<code>screen</code>命令会提示方法找不到。</p>
<p>如果不安装Xcode，可以通过<code>brew</code>命令安装，也可以达到相同的效果，按照安装完成的提示相应设置即可：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><i class="fa fa-usd"></i> <span class="built_in">brew</span> install git bash-completion</span></pre></td></tr></table></figure>
<p>个人的git全局配置文件<code>~/.gitconfig</code>的内容：</p>
          <div class="post-more-link text-center">
            <a class="btn" href="/blog/macos/2016/06/21/git-environment-on-mac-os.html#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="//schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/blog/linux/2016/06/19/howto-tcp-keep-alive.html" itemprop="url">
                  howto tcp keep-alive
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2016-06-19T20:02:35+08:00" content="2016-06-19">
              2016-06-19
            </time>
          </span>

          
            <span class="post-category">
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
              
                <span itemprop="about" itemscope itemtype="//schema.org/Thing">
                  <a href="/blog/categories/linux/" itemprop="url" rel="index">
                    <span itemprop="name">linux</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>本文是关于<code>TCP Keepalive</code>的一些基本知识点和系统设置方式说明，原文<a href="http://www.tldp.org/HOWTO/html_single/TCP-Keepalive-HOWTO/" target="_blank" rel="noopener">TCP Keepalive HOWTO</a>，作者Fabio Busatto <a href="mailto:&#102;&#97;&#98;&#105;&#111;&#46;&#98;&#117;&#115;&#x61;&#x74;&#x74;&#x6f;&#64;&#x73;&#x69;&#107;&#117;&#x72;&#101;&#x7a;&#x7a;&#97;&#46;&#111;&#114;&#x67;" target="_blank" rel="noopener">&#102;&#97;&#98;&#105;&#111;&#46;&#98;&#117;&#115;&#x61;&#x74;&#x74;&#x6f;&#64;&#x73;&#x69;&#107;&#117;&#x72;&#101;&#x7a;&#x7a;&#97;&#46;&#111;&#114;&#x67;</a></p>
<p>This document describes the TCP keepalive implementation in the linux kernel, introduces the overall concept and points to both system configuration and software development.</p>
<h2 id="Table-of-Contents"><a href="#Table-of-Contents" class="headerlink" title="Table of Contents"></a>Table of Contents</h2><ul>
<li><a href="#introduction">1. Introduction</a></li>
<li><a href="#tcp-keepalive-overview">2. TCP keepalive overview</a></li>
<li><a href="#what-is-tcp-keepalive">2.1. What is TCP keepalive?</a></li>
<li><a href="#why-use-tcp-keepalive">2.2. Why use TCP keepalive?</a></li>
<li><a href="#checking-for-dead-peers">2.3. Checking for dead peers</a></li>
<li><a href="#preventing-disconnection-due-to-network-inactivity">2.4. Preventing disconnection due to network inactivity</a></li>
<li><a href="#using-tcp-keepalive-under-linux">3. Using TCP keepalive under Linux</a></li>
<li><a href="#configuring-the-kernel">3.1. Configuring the kernel</a></li>
<li><a href="#making-changes-persistent-to-reboot">3.2. Making changes persistent to reboot</a></li>
<li><a href="#tcp-keep-alive-packets-dump-example">4.1. tcp keep alive packets dump example</a></li>
</ul>
<h2 id="1-Introduction"><a href="#1-Introduction" class="headerlink" title="1. Introduction"></a>1. Introduction</h2><p>Understanding TCP keepalive is not necessary in most cases, but it&#39;s a subject that can be very useful under particular circumstances. You will need to know basic TCP/IP networking concepts, and the C programming language to understand all sections of this document.</p>
<p>The main purpose of this HOWTO is to describe TCP keepalive in detail and demonstrate various application situations. After some initial theory, the discussion focuses on the Linux implementation of TCP keepalive routines in the modern Linux kernel releases (2.4.x, 2.6.x), and how system administrators can take advantage of these routines, with specific configuration examples and tricks.</p>
<h2 id="2-TCP-keepalive-overview"><a href="#2-TCP-keepalive-overview" class="headerlink" title="2. TCP keepalive overview"></a>2. TCP keepalive overview</h2><p>In order to understand what TCP keepalive (which we will just call keepalive) does, you need do nothing more than read the name: keep TCP alive. This means that you will be able to check your connected socket (also known as TCP sockets), and determine whether the connection is still up and running or if it has broken.</p>
<h2 id="2-1-What-is-TCP-keepalive"><a href="#2-1-What-is-TCP-keepalive" class="headerlink" title="2.1. What is TCP keepalive?"></a>2.1. What is TCP keepalive?</h2><p>The keepalive concept is very simple: when you set up a TCP connection, you associate a set of timers. Some of these timers deal with the keepalive procedure. When the keepalive timer reaches zero, you send your peer a keepalive probe packet with no data in it and the ACK flag turned on. You can do this because of the TCP/IP specifications, as a sort of duplicate ACK, and the remote endpoint will have no arguments, as TCP is a stream-oriented protocol. On the other hand, you will receive a reply from the remote host (which doesn&#39;t need to support keepalive at all, just TCP/IP), with no data and the ACK set.</p>
<p>If you receive a reply to your keepalive probe, you can assert that the connection is still up and running without worrying about the user-level implementation. In fact, TCP permits you to handle a stream, not packets, and so a zero-length data packet is not dangerous for the user program.</p>
<p>This procedure is useful because if the other peers lose their connection (for example by rebooting) you will notice that the connection is broken, even if you don&#39;t have traffic on it. If the keepalive probes are not replied to by your peer, you can assert that the connection cannot be considered valid and then take the correct action.</p>
<h2 id="2-2-Why-use-TCP-keepalive"><a href="#2-2-Why-use-TCP-keepalive" class="headerlink" title="2.2. Why use TCP keepalive?"></a>2.2. Why use TCP keepalive?</h2><p>You can live quite happily without keepalive, so if you&#39;re reading this, you may be trying to understand if keepalive is a possible solution for your problems. Either that or you&#39;ve really got nothing more interesting to do instead, and that&#39;s okay too. :)</p>
<p>Keepalive is non-invasive, and in most cases, if you&#39;re in doubt, you can turn it on without the risk of doing something wrong. But do remember that it generates extra network traffic, which can have an impact on routers and firewalls.</p>
<p>In short, use your brain and be careful.</p>
<p>In the next section we will distinguish between the two target tasks for keepalive: Checking for dead peers</p>
<p>Preventing disconnection due to network inactivity</p>
<h2 id="2-3-Checking-for-dead-peers"><a href="#2-3-Checking-for-dead-peers" class="headerlink" title="2.3. Checking for dead peers"></a>2.3. Checking for dead peers</h2><p>Keepalive can be used to advise you when your peer dies before it is able to notify you. This could happen for several reasons, like kernel panic or a brutal termination of the process handling that peer. Another scenario that illustrates when you need keepalive to detect peer death is when the peer is still alive but the network channel between it and you has gone down. In this scenario, if the network doesn&#39;t become operational again, you have the equivalent of peer death. This is one of those situations where normal TCP operations aren&#39;t useful to check the connection status.</p>
<p>Think of a simple TCP connection between Peer A and Peer B: there is the initial three-way handshake, with one SYN segment from A to B, the SYN/ACK back from B to A, and the final ACK from A to B. At this time, we&#39;re in a stable status: connection is established, and now we would normally wait for someone to send data over the channel. And here comes the problem: unplug the power supply from B and instantaneously it will go down, without sending anything over the network to notify A that the connection is going to be broken. A, from its side, is ready to receive data, and has no idea that B has crashed. Now restore the power supply to B and wait for the system to restart. A and B are now back again, but while A knows about a connection still active with B, B has no idea. The situation resolves itself when A tries to send data to B over the dead connection, and B replies with an RST packet, causing A to finally to close the connection.</p>
<p>Keepalive can tell you when another peer becomes unreachable without the risk of false-positives. In fact, if the problem is in the network between two peers, the keepalive action is to wait some time and then retry, sending the keepalive packet before marking the connection as broken.</p>
          <div class="post-more-link text-center">
            <a class="btn" href="/blog/linux/2016/06/19/howto-tcp-keep-alive.html#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="//schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/blog/linux/2016/06/19/bash-scripting-manipulating-variables.html" itemprop="url">
                  advanced bash scripting guide: manipulating variables
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2016-06-19T17:43:54+08:00" content="2016-06-19">
              2016-06-19
            </time>
          </span>

          
            <span class="post-category">
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
              
                <span itemprop="about" itemscope itemtype="//schema.org/Thing">
                  <a href="/blog/categories/linux/" itemprop="url" rel="index">
                    <span itemprop="name">linux</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>经常在linux命令行或者是bash脚本里定义变量和操作字符串，其中语法比较多，转<a href="http://www.tldp.org/LDP/abs/html/parameter-substitution.html" target="_blank" rel="noopener">LDP文档</a>做为手册和示例，便于查询。</p>
<h2 id="Manipulating-and-or-expanding-variables"><a href="#Manipulating-and-or-expanding-variables" class="headerlink" title="Manipulating and/or expanding variables"></a>Manipulating and/or expanding variables</h2><h3 id="parameter"><a href="#parameter" class="headerlink" title="${parameter}"></a>${parameter}</h3><p>Same as <code>$parameter</code>, i.e., value of the variable parameter. In certain contexts, only the less ambiguous <code>${parameter}</code> form works.</p>
<p>May be used for concatenating variables with strings.</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">your_id=<span class="variable">$&#123;USER&#125;</span>-on-<span class="variable">$&#123;HOSTNAME&#125;</span></span><span class="line"><span class="built_in">echo</span> <span class="string">"<span class="variable">$your_id</span>"</span></span><span class="line"><span class="comment">#</span></span><span class="line"><span class="built_in">echo</span> <span class="string">"Old \$PATH = <span class="variable">$PATH</span>"</span></span><span class="line">PATH=<span class="variable">$&#123;PATH&#125;</span>:/opt/bin  <span class="comment"># Add /opt/bin to $PATH for duration of script.</span></span><span class="line"><span class="built_in">echo</span> <span class="string">"New \$PATH = <span class="variable">$PATH</span>"</span></span></pre></td></tr></table></figure>
<h3 id="parameter-default-parameter-default"><a href="#parameter-default-parameter-default" class="headerlink" title="${parameter-default}, ${parameter:-default}"></a>${parameter-default}, ${parameter:-default}</h3><p>If parameter not set, use default.</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">var1=1</span><span class="line">var2=2</span><span class="line"><span class="comment"># var3 is unset.</span></span><span class="line"></span><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;var1-$var2&#125;</span>   <span class="comment"># 1</span></span><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;var3-$var2&#125;</span>   <span class="comment"># 2</span></span><span class="line"><span class="comment">#           ^          Note the $ prefix.</span></span><span class="line"></span><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;username-`whoami`&#125;</span></span><span class="line"><span class="comment"># Echoes the result of `whoami`, if variable $username is still unset.</span></span></pre></td></tr></table></figure>
          <div class="post-more-link text-center">
            <a class="btn" href="/blog/linux/2016/06/19/bash-scripting-manipulating-variables.html#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="//schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/blog/java/2016/06/10/logback-spring-boot-xml-configuration.html" itemprop="url">
                  logback.xml configuration example
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2016-06-10T22:28:17+08:00" content="2016-06-10">
              2016-06-10
            </time>
          </span>

          
            <span class="post-category">
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
              
                <span itemprop="about" itemscope itemtype="//schema.org/Thing">
                  <a href="/blog/categories/java/" itemprop="url" rel="index">
                    <span itemprop="name">java</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>根据<code>spring-boot</code>项目中的<code>logback</code>配置，定义了一份自己测试环境中使用的<code>logback</code>配置文件，并且对其中主要配置添加了备注说明。</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><span class="line"><span class="tag">&lt;<span class="name">configuration</span> <span class="attr">debug</span>=<span class="string">"true"</span>&gt;</span></span><span class="line"></span><span class="line">    <span class="comment">&lt;!--</span></span><span class="line"><span class="comment">        Defining variables</span></span><span class="line"><span class="comment">        The syntax of variable substitution is similar to that of Unix shells.</span></span><span class="line"><span class="comment">        The string between an opening $&#123; and closing &#125; is interpreted as a reference to the value of the property. For property aName, the string "$&#123;aName&#125;" will be replaced with the value held by the aName property.</span></span><span class="line"><span class="comment"></span></span><span class="line"><span class="comment">        Default values for variables</span></span><span class="line"><span class="comment">        Under certain circumstances, it may be desirable for a variable to have a default value if it is not declared or its value is null.</span></span><span class="line"><span class="comment">        As in the Bash shell, default values can be specified using the ":-" operator.</span></span><span class="line"><span class="comment">        For example, assuming the variable named aName is not defined, "$&#123;aName:-golden&#125;" will be interpreted as "golden".</span></span><span class="line"><span class="comment"></span></span><span class="line"><span class="comment">        Locate log file according by system property: $&#123;catalina.home&#125; or $&#123;java.io.tmpdir&#125; if $catalina.home&#125; not defined.</span></span><span class="line"><span class="comment">    --&gt;</span></span><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"LOG_FILE"</span> <span class="attr">value</span>=<span class="string">"$&#123;catalina.home:-$&#123;java.io.tmpdir:-/tmp&#125;&#125;/logs/spring-jdbc.log&#125;"</span>/&gt;</span></span><span class="line"></span><span class="line">    <span class="comment">&lt;!--</span></span><span class="line"><span class="comment">        Below is a configuration file illustrating coloring.</span></span><span class="line"><span class="comment">        Note the %cyan conversion specifier enclosing "%logger&#123;39&#125;". This will output the logger name abbreviated to 39 characters in cyan.</span></span><span class="line"><span class="comment">        The %codeblock lang:conversion specifier prints its sub-pattern in bold-red for events of level ERROR, in red for WARN, in BLUE for INFO, and in the default color for other levels.</span></span><span class="line"><span class="comment">    --&gt;</span></span><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"CONSOLE_LOG_PATTERN"</span></span></span><span class="line"><span class="tag">              <span class="attr">value</span>=<span class="string">"%d&#123;yyyy-MM-dd HH:mm:ss.SSS&#125; %highlight(-%5p) --- [%15.15thread] %cyan(%-40.40logger&#123;39&#125; [%5line] :) %m%n%ex"</span>/&gt;</span></span><span class="line"></span><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"FILE_LOG_PATTERN"</span></span></span><span class="line"><span class="tag">              <span class="attr">value</span>=<span class="string">"%d&#123;yyyy-MM-dd HH:mm:ss.SSS&#125; -%5p --- [%15.15thread] %-40.40logger&#123;39&#125; [%5line] : %m%n%ex"</span>/&gt;</span></span><span class="line"></span><span class="line">    <span class="comment">&lt;!--</span></span><span class="line"><span class="comment">        What is an Appender? - http://logback.qos.ch/manual/appenders.html</span></span><span class="line"><span class="comment"></span></span><span class="line"><span class="comment">        Logback delegates the task of writing a logging event to components called appenders.</span></span><span class="line"><span class="comment">        Appenders must implement the ch.qos.logback.core.Appender interface.</span></span><span class="line"><span class="comment">    --&gt;</span></span><span class="line">    <span class="tag">&lt;<span class="name">appender</span> <span class="attr">name</span>=<span class="string">"CONSOLE"</span> <span class="attr">class</span>=<span class="string">"ch.qos.logback.core.ConsoleAppender"</span>&gt;</span></span><span class="line"></span><span class="line">        <span class="comment">&lt;!--</span></span><span class="line"><span class="comment">            What is an encoder - http://logback.qos.ch/manual/encoders.html</span></span><span class="line"><span class="comment"></span></span><span class="line"><span class="comment">            Encoders are responsible for transforming an event into a byte array as well as writing out that byte array into an OutputStream.</span></span><span class="line"><span class="comment">            Encoders were introduced in logback version 0.9.19. In previous versions, most appenders relied on a layout to transform an event into a string and write it out using a java.io.Writer. In previous versions of logback, users would nest a PatternLayout within FileAppender.</span></span><span class="line"><span class="comment"></span></span><span class="line"><span class="comment">            Since logback 0.9.19, FileAppender and sub-classes expect an encoder and no longer take a layout.</span></span><span class="line"><span class="comment">        --&gt;</span></span><span class="line">        <span class="tag">&lt;<span class="name">encoder</span>&gt;</span></span><span class="line"></span><span class="line">            <span class="comment">&lt;!--</span></span><span class="line"><span class="comment">                What is a layout? - http://logback.qos.ch/manual/layouts.html</span></span><span class="line"><span class="comment"></span></span><span class="line"><span class="comment">                Layouts are logback components responsible for transforming an incoming event into a String.</span></span><span class="line"><span class="comment"></span></span><span class="line"><span class="comment">                PatternLayout/XMLLayout/HTMLLayout</span></span><span class="line"><span class="comment">            --&gt;</span></span><span class="line">            <span class="tag">&lt;<span class="name">pattern</span>&gt;</span>$&#123;CONSOLE_LOG_PATTERN&#125;<span class="tag">&lt;/<span class="name">pattern</span>&gt;</span></span><span class="line">            <span class="tag">&lt;<span class="name">charset</span>&gt;</span>utf8<span class="tag">&lt;/<span class="name">charset</span>&gt;</span></span><span class="line">        <span class="tag">&lt;/<span class="name">encoder</span>&gt;</span></span><span class="line">    <span class="tag">&lt;/<span class="name">appender</span>&gt;</span></span><span class="line"></span><span class="line">    <span class="comment">&lt;!--</span></span><span class="line"><span class="comment">        RollingFileAppender extends FileAppender to backup the log files depending on RollingPolicy and TriggeringPolicy.</span></span><span class="line"><span class="comment">    --&gt;</span></span><span class="line">    <span class="tag">&lt;<span class="name">appender</span> <span class="attr">name</span>=<span class="string">"FILE"</span> <span class="attr">class</span>=<span class="string">"ch.qos.logback.core.rolling.RollingFileAppender"</span>&gt;</span></span><span class="line">        <span class="tag">&lt;<span class="name">encoder</span>&gt;</span></span><span class="line">            <span class="tag">&lt;<span class="name">pattern</span>&gt;</span>$&#123;FILE_LOG_PATTERN&#125;<span class="tag">&lt;/<span class="name">pattern</span>&gt;</span></span><span class="line">        <span class="tag">&lt;/<span class="name">encoder</span>&gt;</span></span><span class="line">        <span class="tag">&lt;<span class="name">file</span>&gt;</span>$&#123;LOG_FILE&#125;<span class="tag">&lt;/<span class="name">file</span>&gt;</span></span><span class="line">        <span class="tag">&lt;<span class="name">rollingPolicy</span> <span class="attr">class</span>=<span class="string">"ch.qos.logback.core.rolling.FixedWindowRollingPolicy"</span>&gt;</span></span><span class="line">            <span class="tag">&lt;<span class="name">fileNamePattern</span>&gt;</span>$&#123;LOG_FILE&#125;.%i<span class="tag">&lt;/<span class="name">fileNamePattern</span>&gt;</span></span><span class="line">        <span class="tag">&lt;/<span class="name">rollingPolicy</span>&gt;</span></span><span class="line"></span><span class="line">        <span class="comment">&lt;!--</span></span><span class="line"><span class="comment">            SizeBasedTriggeringPolicy looks at size of the file being currently written to.</span></span><span class="line"><span class="comment">            If it grows bigger than the specified size, the FileAppender using the SizeBasedTriggeringPolicy rolls the file and creates a new one.</span></span><span class="line"><span class="comment">        --&gt;</span></span><span class="line">        <span class="tag">&lt;<span class="name">triggeringPolicy</span> <span class="attr">class</span>=<span class="string">"ch.qos.logback.core.rolling.SizeBasedTriggeringPolicy"</span>&gt;</span></span><span class="line">            <span class="tag">&lt;<span class="name">MaxFileSize</span>&gt;</span>10MB<span class="tag">&lt;/<span class="name">MaxFileSize</span>&gt;</span></span><span class="line">        <span class="tag">&lt;/<span class="name">triggeringPolicy</span>&gt;</span></span><span class="line">    <span class="tag">&lt;/<span class="name">appender</span>&gt;</span></span><span class="line"></span><span class="line">    <span class="comment">&lt;!--</span></span><span class="line"><span class="comment">        To ensure that all loggers can eventually inherit a level, the root logger always has an assigned level.</span></span><span class="line"><span class="comment"></span></span><span class="line"><span class="comment">        By default, this level is DEBUG.</span></span><span class="line"><span class="comment">    --&gt;</span></span><span class="line">    <span class="tag">&lt;<span class="name">root</span> <span class="attr">level</span>=<span class="string">"DEBUG"</span>&gt;</span></span><span class="line">        <span class="tag">&lt;<span class="name">appender-ref</span> <span class="attr">ref</span>=<span class="string">"CONSOLE"</span>/&gt;</span></span><span class="line">        <span class="tag">&lt;<span class="name">appender-ref</span> <span class="attr">ref</span>=<span class="string">"FILE"</span>/&gt;</span></span><span class="line">    <span class="tag">&lt;/<span class="name">root</span>&gt;</span></span><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span></pre></td></tr></table></figure>
          <div class="post-more-link text-center">
            <a class="btn" href="/blog/java/2016/06/10/logback-spring-boot-xml-configuration.html#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/blog/page/20/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/blog/">1</a><span class="space">&hellip;</span><a class="page-number" href="/blog/page/20/">20</a><span class="page-number current">21</span><a class="page-number" href="/blog/page/22/">22</a><span class="space">&hellip;</span><a class="page-number" href="/blog/page/99/">99</a><a class="extend next" rel="next" href="/blog/page/22/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel  sidebar-panel-active ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image" src="/blog/images/avatar.jpg" alt="yuweijun">
          <p class="site-author-name" itemprop="name">yuweijun</p>
          <p class="site-description motion-element" itemprop="description"></p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/blog/archives">
              <span class="site-state-item-count">492</span>
              <span class="site-state-item-name">posts</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              
                <span class="site-state-item-count">12</span>
                <span class="site-state-item-name">categories</span>
              
            </div>
          

          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/blog/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/yuweijun" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://twitter.com/yuweijun" target="_blank" title="Twitter">
                  
                    <i class="fa fa-fw fa-twitter"></i>
                  
                  Twitter
                </a>
              </span>
            
          
        </div>

        
        

        
        

      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-github"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">yuweijun</span>
</div>

<div class="powered-by">
  Powered by <a class="theme-link" href="https://hexo.io">Hexo</a>
</div>

<div class="theme-info">
  Theme -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist.KISS
  </a>
</div>

        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>











  
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.0.0/jquery.min.js"></script>

  
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.min.js"></script>

  
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery.lazyload/1.9.1/jquery.lazyload.min.js"></script>

  
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/velocity/1.3.1/velocity.min.js"></script>

  
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/velocity/1.3.1/velocity.ui.min.js"></script>


  


  <script type="text/javascript" src="/blog/js/src/utils.js?v=5.0.1"></script>

  <script type="text/javascript" src="/blog/js/src/motion.js?v=5.0.1"></script>



  
  

  

  


  <script type="text/javascript" src="/blog/js/src/bootstrap.js?v=5.0.1"></script>



  



  




  
  

  

  

  

</body>
</html>
