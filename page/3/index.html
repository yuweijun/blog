<!doctype html>




<html class="theme-next mist">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />


















  

<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css" />

<link href="/blog/css/main.css?v=5.0.1" rel="stylesheet" type="text/css" />






  <link rel="alternate" href="/blog/atom.xml" title="一" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/blog/favicon.ico?v=5.0.1" />






<meta property="og:type" content="website">
<meta property="og:title" content="一">
<meta property="og:url" content="https://www.4e00.com/page/3/index.html">
<meta property="og:site_name" content="一">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="一">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Mist',
    sidebar: {"position":"left","display":"hide"},
    fancybox: false,
    motion: false,
    duoshuo: {
      userId: 0,
      author: 'Author'
    }
  };
</script>




  <link rel="canonical" href="https://www.4e00.com/blog/page/3/"/>

  <title> 一 </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="default">

  










  
  
    
  

  <div class="container one-collumn sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/blog/"  class="brand" rel="start">
      <span class="site-title">一</span>
    </a>
  </div>
  <p class="site-subtitle">{"type":"编程笔记"}</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/blog/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/blog/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      

      <li class="menu-item menu-item-search">
        <a href="https://www.google.com.hk/search?q=site%3Awww.4e00.com%2Fblog%2F" class="popup-trigger">
          <i class="menu-item-icon fa fa-search fa-fw"></i>Search
        </a>
      </li>
    </ul>
  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/blog/linux/2017/08/08/git-useful-commands.html" itemprop="url">
                  git一些有用但不常用的命令
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2017-08-08T20:11:32+08:00" content="2017-08-08">
              2017-08-08
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/blog/categories/linux/" itemprop="url" rel="index">
                    <span itemprop="name">linux</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <h2 id="git-show-branch"><a href="#git-show-branch" class="headerlink" title="git show-branch"></a>git show-branch</h2><p><code>git show-branch</code>显示分支和提交的版本情况，下面示例图可以参考此<a href="https://www.4e00.com/blog/linux/2016/05/31/git-branch-and-log-graph.html">脚本</a>生成。</p>
<ol>
<li>输出分为上下两部分，使用若干个短划线<code>-</code>分隔。两个分支使用两个短划线<code>-</code>，三个分支使用三个短划线<code>-</code>，依次类推，最多不超过29个分支。</li>
<li>上半部分为层次缩进的分支列表，下半部分为commit列表。</li>
<li>上半部分的分支列表中，使用<code>*</code>标识当前分支，其他分支使用<code>!</code>标识（不同的分支的<code>!</code>标识颜色不一样）。分支前的标识符<code>*</code>或者<code>!</code>一直垂直贯通到下半部分，这一垂直列的符号都是属于这个分支的。</li>
<li>下半部分的commit列表中，前导的符号有<code>*</code>、<code>+</code>和<code>-</code>号:<ol>
<li><code>*</code>表示这一列上的分支(当前分支)有此commit。</li>
<li><code>+</code>表示这一列上的分支(非当前分支)有此commit。</li>
<li><code>-</code>表示这是一次合并操作。</li>
</ol>
</li>
<li>标识符的颜色只是用于容易区分列，一个分支一个颜色，<a href="/blog/img/linux/git/git-show-branch.png">如图</a>。</li>
</ol>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">$&gt; git show-branch</div><div class="line">&gt; ! [br1] v15-br1</div><div class="line">&gt;  ! [br2] v12-br2</div><div class="line">&gt;   ! [br3] v13-br3</div><div class="line">&gt;    * [master] merge br2 into master</div><div class="line">&gt; ----</div><div class="line">&gt;    - [master] merge br2 into master</div><div class="line">&gt;  + * [br2] v12-br2</div><div class="line">&gt;  + * [br2^] v11-br2</div><div class="line">&gt;  + * [br2~2] v10-br2</div><div class="line">&gt; +  * [br1] v15-br1</div><div class="line">&gt; +  * [br1^] v14-br1</div><div class="line">&gt; +  * [br1~2] v7-br1</div><div class="line">&gt;   +* [br3] v13-br3</div><div class="line">&gt;   +* [br3^] v5-br3</div><div class="line">&gt;    * [master~3] v9-master</div><div class="line">&gt;    * [master~4] v8-master</div><div class="line">&gt;    * [master~5] v6-master</div><div class="line">&gt;   +* [master~6] v4-br3</div><div class="line">&gt;  ++* [master~7] v3-br2</div><div class="line">&gt; +++* [master~8] v2-br1</div></pre></td></tr></table></figure>
          <div class="post-more-link text-center">
            <a class="btn" href="/blog/linux/2017/08/08/git-useful-commands.html#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/blog/java/2017/08/07/java-inner-class-and-jvm-implements.html" itemprop="url">
                  java inner class and jvm implements
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2017-08-07T20:35:24+08:00" content="2017-08-07">
              2017-08-07
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/blog/categories/java/" itemprop="url" rel="index">
                    <span itemprop="name">java</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>java中<code>嵌套类型</code>(nested type)，也就是所谓的<code>内部类</code>(inner class)，主要有四种：</p>
<ol>
<li>静态内部类型，在类内部定义为static成员类型，如<code>static class</code>，静态内部类需要注意以下几点：<ol>
<li>不管有没有static关键字，interface/annotation/enum都是静态类型；</li>
<li>静态内部类不能定义在任何非静态内部类中；</li>
<li>静态内部类的程序可以访问它所在的外部类的所有静态属性和方法，包括私有的静态属性和方法；</li>
<li>静态内部类其实就是顶层类，它不与任何对象关联；</li>
<li>静态内部类可以被声明为private的，但是interface里定义的方法仍然只能是public的。</li>
</ol>
</li>
<li>非静态内部类，只能是class，注意：<ol>
<li>一个非静态内部类的实例总是与外部类的实例<code>outerClassInstance</code>相关联；</li>
<li>非静态内部类的程序可以访问它所在的外部类的所有属性和方法，包括私有的方法；</li>
<li>不可以包含任何static属性，方法；</li>
<li>java为非静态内部类设计了一些特殊语法，使用<code>OuterClassName.this</code>形式引用外部类的实例对象，其相关用法举例如下：<ol>
<li>OuterClassName.this.fieldName</li>
<li>OuterClassName.this.anyMethod()</li>
<li>OuterClassName.this.new InnerClassName()</li>
<li>outerClassInstance.new InnerClassName()</li>
</ol>
</li>
<li>内部类与外部类属性名相同时，访问外部类的实例属性，只能以<code>OuterClassName.this.fieldName</code>方式访问；</li>
<li>使用<code>OuterClassName.super</code>形式来访问外部类的超类。</li>
</ol>
</li>
<li>局部类(local class)，是定义在java代码块里的类，特点：<ol>
<li>interface/annotation/enum不能定义为局部类；</li>
<li>局部类可以访问代码块内可见范围内的所有final局部变量，java 8中变量可以不显式声明为final的，但实际是不能修改变量的引用；</li>
<li>局部类不能声明为private/protected/public/static，这些修饰符针对类成员，不能声明局部变量和局部类。</li>
</ol>
</li>
<li>匿名类(annonymous class)，是没有名称的局部类。<ol>
<li>匿名类没有名称，所以在匿名类内是不能为它定义构造函数的，这是匿名类最大的限制；</li>
<li>可以使用初始化块来代替构造函数；</li>
<li>匿名类语法：<ol>
<li>new class-name ( [ argument-list ] ) { class-body }</li>
<li>new interface-name () { class-body }</li>
</ol>
</li>
</ol>
</li>
</ol>
<p>上面提到java为非静态内部类设计了一些特殊语法，应该尽量少用。</p>
<h2 id="jvm中非静态内部类的实现说明"><a href="#jvm中非静态内部类的实现说明" class="headerlink" title="jvm中非静态内部类的实现说明"></a>jvm中非静态内部类的实现说明</h2><figure class="highlight java"><table><tr><td class="code"><pre><div class="line"><span class="keyword">package</span> com.example.test.javap;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">OuterClass</span> </span>&#123;</div><div class="line"></div><div class="line">    <span class="class"><span class="keyword">class</span> <span class="title">InnerClass</span> </span>&#123;</div><div class="line">        <span class="keyword">private</span> <span class="keyword">int</span> var = <span class="number">3</span>;</div><div class="line"></div><div class="line">        <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</div><div class="line">            <span class="keyword">return</span> var;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</div><div class="line">        OuterClass example = <span class="keyword">new</span> OuterClass();</div><div class="line">        InnerClass innerClass = example.new InnerClass();</div><div class="line">        System.out.println(innerClass.test());</div><div class="line">    &#125;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure>
          <div class="post-more-link text-center">
            <a class="btn" href="/blog/java/2017/08/07/java-inner-class-and-jvm-implements.html#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/blog/java/2017/07/29/dependence-inversion-principle-relation-with-ioc-and-di.html" itemprop="url">
                  依赖反转原则与IoC/DI的关系
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2017-07-29T13:00:45+08:00" content="2017-07-29">
              2017-07-29
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/blog/categories/java/" itemprop="url" rel="index">
                    <span itemprop="name">java</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <h2 id="依赖反转原则-Dependency-Inversion-Principle"><a href="#依赖反转原则-Dependency-Inversion-Principle" class="headerlink" title="依赖反转原则 - Dependency Inversion Principle"></a>依赖反转原则 - Dependency Inversion Principle</h2><p>wiki上对<a href="https://en.wikipedia.org/wiki/Dependency_inversion_principle" target="_blank" rel="external">依赖反转原则</a>说明如下：</p>
<blockquote>
<p>In object-oriented design, the <code>dependency inversion principle</code> refers to a specific form of decoupling software modules. When following this principle, the conventional dependency relationships established from high-level, policy-setting modules to low-level, dependency modules are reversed, thus rendering high-level modules independent of the low-level module implementation details.</p>
</blockquote>
<p>该原则规定：</p>
<ol>
<li>高层次的模块不应该依赖于低层次的模块，两者都应该依赖于抽象接口。</li>
<li>抽象接口不应该依赖于具体实现。而具体实现则应该依赖于抽象接口。</li>
</ol>
<p>通常的抽象都来源于细节，来源于具体对象，通过对这些具体对象进行分析思考，从而形成高层的抽象对象或者是接口，所以直观的来看一般都是抽象依赖于细节，而DIP原则正好是将之倒置，要求细节依赖于抽象。</p>
<img src="/blog/img/java/dependency-inversion-principle.png" title="[dependency-inversion-principle]">
<p>上图高层模块1中对象A依赖于具体对象B，图中模块1重构后，对象A依赖于低层模块中对象B的抽象接口InferfaceB，而在低层模块2中的对象B实现了此接口，一般通过IoC/DI完成对象调用，从而达到细节依赖抽象，而不是抽象依赖细节，这就是依赖反转。</p>
<p>面向对象编程中，最根本的一个原则就是<code>分离变化与不变化的部分</code>，面向对象的三大特性(封装、继承和多态)，六大原则(SOLID)，若干设计模式，本质都是体现这个原则，即分离对象中变化和不变化的部分，分离模块中变化与不变化的部分，依赖反转原则中抽象的部分就是相对不变的部分，变化的部分即具体的细节的低层对象。</p>
<h2 id="控制反转-Inversion-of-Control"><a href="#控制反转-Inversion-of-Control" class="headerlink" title="控制反转 - Inversion of Control"></a>控制反转 - Inversion of Control</h2><p>wiki上对<a href="https://en.wikipedia.org/wiki/Dependency_injection" target="_blank" rel="external">控制反转</a>的说明如下：</p>
<blockquote>
<p>控制反转（Inversion of Control，缩写为IoC），是面向对象编程中的一种设计原则，可以用来减低计算机代码之间的耦合度。其中最常见的实现方式叫做<code>依赖注入</code>（Dependency Injection，简称DI），还有一种方式叫<code>依赖查找</code>（Dependency Lookup）。通过控制反转，对象在被创建的时候，由一个调控系统内所有对象的外界实体，将其所依赖的对象的引用传递给它。也可以说，依赖被注入到对象中。</p>
<p>in software engineering, <code>inversion of control</code> (IoC) is a design principle in which custom-written portions of a computer program receive the flow of control from a generic framework. a software architecture with this design inverts control as compared to traditional procedural programming: in traditional programming, the custom code that expresses the purpose of the program calls into reusable libraries to take care of generic tasks, but with inversion of control, it is the framework that calls into the custom, or task-specific, code.</p>
<p><code>inversion of control</code> is used to increase modularity of the program and make it extensible, and has applications in object-oriented programming and other programming paradigms. the term was popularized by Robert C. Martin and Martin Fowler.</p>
<p>the term is related to, but different from, the <code>dependency inversion principle</code>, which concerns itself with decoupling dependencies between high-level and low-level layers  through shared abstractions. the general concept is also related to <code>event-driven programming</code> in that it is often implemented using ioc, so that the custom code is commonly only concerned with handling of events, whereas the event loop and dispatch of <code>events/messages</code> is handled by the framework or the runtime environment.</p>
</blockquote>
<h3 id="依赖注入-Dependency-Injection"><a href="#依赖注入-Dependency-Injection" class="headerlink" title="依赖注入 - Dependency Injection"></a>依赖注入 - Dependency Injection</h3><p>一般说到控制反转，都会和依赖注入一起提到，从上面的定义也可以知道，IoC是一个设计原则，而依赖注入是它的实现方式之一，依赖注入这个概念的提出可以参考 Martin Fowler 的这篇<a href="https://martinfowler.com/articles/injection.html" target="_blank" rel="external">文章</a>，对应的<a href="http://insights.thoughtworkers.org/injection/" target="_blank" rel="external">中文版本</a>。</p>
          <div class="post-more-link text-center">
            <a class="btn" href="/blog/java/2017/07/29/dependence-inversion-principle-relation-with-ioc-and-di.html#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/blog/java/2017/02/26/tomcat-startup-blocked-because-stackoverflow-error.html" itemprop="url">
                  tomcat startup blocked because stackoverflow error
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2017-02-26T19:10:20+08:00" content="2017-02-26">
              2017-02-26
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/blog/categories/java/" itemprop="url" rel="index">
                    <span itemprop="name">java</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>spring项目在tomcat中启动时，会随机的卡死，tomcat启动失败，关闭之后重启有时就会正常启动，失败时的日志输出到如下位置时停下来，没有异常输出到控制台。</p>
<blockquote>
<p>2017-02-26 17:40:05 [ RMI TCP Connection(2)-127.0.0.1:4882 ] - [ INFO ] org.springframework.context.support.AbstractApplicationContext$BeanPostProcessorChecker.postProcessAfterInitialization(AbstractApplicationContext.java:1350) Bean &#39;dataSource&#39; of type [class com.example.DataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)</p>
</blockquote>
<p>debug时发现一直卡在spring容器<code>AbstractAutowireCapableBeanFactory</code>的<code>doCreateBean</code>和<code>populateBean</code>方法中：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">AbstractAutowireCapableBeanFactory</span> <span class="keyword">extends</span> <span class="title">AbstractBeanFactory</span></span></div><div class="line"><span class="class">        <span class="keyword">implements</span> <span class="title">AutowireCapableBeanFactory</span> </span>&#123;</div><div class="line">    <span class="comment">// ... other codes</span></div><div class="line">    <span class="function"><span class="keyword">protected</span> Object <span class="title">doCreateBean</span><span class="params">(<span class="keyword">final</span> String beanName, <span class="keyword">final</span> RootBeanDefinition mbd, <span class="keyword">final</span> Object[] args)</span> </span>&#123;</div><div class="line">        <span class="comment">// ... other codes</span></div><div class="line">        <span class="comment">// Initialize the bean instance.</span></div><div class="line">        Object exposedObject = bean;</div><div class="line">        <span class="keyword">try</span> &#123;</div><div class="line">            <span class="comment">// 调试时一直在这里不断的递归调用</span></div><div class="line">            populateBean(beanName, mbd, instanceWrapper);</div><div class="line">            <span class="keyword">if</span> (exposedObject != <span class="keyword">null</span>) &#123;</div><div class="line">                exposedObject = initializeBean(beanName, exposedObject, mbd);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">catch</span> (Throwable ex) &#123; <span class="comment">// spring 在此捕获了所有Exception和Error，并重新包装了一个运行时异常 BeanCreationException</span></div><div class="line">            <span class="keyword">if</span> (ex <span class="keyword">instanceof</span> BeanCreationException &amp;&amp; beanName.equals(((BeanCreationException) ex).getBeanName())) &#123;</div><div class="line">                <span class="keyword">throw</span> (BeanCreationException) ex;</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">else</span> &#123;</div><div class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> BeanCreationException(mbd.getResourceDescription(), beanName, <span class="string">"Initialization of bean failed"</span>, ex);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="comment">// ... other codes</span></div><div class="line">    &#125;</div><div class="line">    <span class="comment">// ... other codes</span></div><div class="line"> &#125;</div></pre></td></tr></table></figure>
<p>碰到这个问题，第一反应是与数据库连接有关系，而且日志输出到了<code>dataSource</code>相关的位置停下来的，然后debug时一直不断在尝试在创建mybatis的sqlSessionFactory这个bean以及相关的一些Dao，因为多数情况下还是能正常启动tomcat的，所以数据库配置是没有问题，而且在windows开发机器上也没有发生这样的情况，只有在测试服务器linux环境和本地Mac系统中偶尔发生。</p>
<h2 id="解决问题想到的相关工具和方法"><a href="#解决问题想到的相关工具和方法" class="headerlink" title="解决问题想到的相关工具和方法"></a>解决问题想到的相关工具和方法</h2><h3 id="打开日志DEBUG级别"><a href="#打开日志DEBUG级别" class="headerlink" title="打开日志DEBUG级别"></a>打开日志DEBUG级别</h3><p>因为出错时的日志一开始是INFO级别的，所以碰到问题后就设置为DEBUG级别，希望看到更详细的信息，但是与INFO级别没什么大的区别，卡死的位置也是一样的，因此日志并没有提供更多有价值的信息。</p>
<h3 id="检查tomcat的相关日志文件"><a href="#检查tomcat的相关日志文件" class="headerlink" title="检查tomcat的相关日志文件"></a>检查tomcat的相关日志文件</h3><p>主要检查了<code>catalina.out</code>和<code>localhost.yyyy-MM-dd.log</code>这2个日志文件，里面也没有任何异常堆栈信息。</p>
          <div class="post-more-link text-center">
            <a class="btn" href="/blog/java/2017/02/26/tomcat-startup-blocked-because-stackoverflow-error.html#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/blog/java/2017/01/18/jvm-instructions-listings.html" itemprop="url">
                  jvm instructions listings
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2017-01-18T13:26:45+08:00" content="2017-01-18">
              2017-01-18
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/blog/categories/java/" itemprop="url" rel="index">
                    <span itemprop="name">java</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <h2 id="Data-Operations"><a href="#Data-Operations" class="headerlink" title="Data Operations"></a>Data Operations</h2><h3 id="The-Stack"><a href="#The-Stack" class="headerlink" title="The Stack"></a>The Stack</h3><h4 id="Pushing-constants-onto-the-stack"><a href="#Pushing-constants-onto-the-stack" class="headerlink" title="Pushing constants onto the stack"></a>Pushing constants onto the stack</h4><table>
<thead>
<tr>
<th style="text-align:center">opcode</th>
<th style="text-align:center">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><a href="http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-6.html#jvms-6.5.bipush" target="_blank" rel="external">bipush</a></td>
<td style="text-align:center">Push a signed byte.</td>
</tr>
<tr>
<td style="text-align:center"><a href="http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-6.html#jvms-6.5.sipush" target="_blank" rel="external">sipush</a></td>
<td style="text-align:center">Push a signed word.</td>
</tr>
<tr>
<td style="text-align:center"><a href="http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-6.html#jvms-6.5.ldc" target="_blank" rel="external">ldc</a></td>
<td style="text-align:center">Push a single word constant.</td>
</tr>
<tr>
<td style="text-align:center"><a href="http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-6.html#jvms-6.5.ldc_w" target="_blank" rel="external">ldc_w</a></td>
<td style="text-align:center">Push a single word constant. (16-bit ref in constant pool)</td>
</tr>
<tr>
<td style="text-align:center"><a href="http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-6.html#jvms-6.5.ldc2_w" target="_blank" rel="external">ldc2_w</a></td>
<td style="text-align:center">Push a double word constant.</td>
</tr>
<tr>
<td style="text-align:center"><a href="http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-6.html#jvms-6.5.aconst_null" target="_blank" rel="external">aconst_null</a></td>
<td style="text-align:center">Push the null object.</td>
</tr>
<tr>
<td style="text-align:center"><a href="http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-6.html#jvms-6.5.iconst_m1" target="_blank" rel="external">iconst_m1</a></td>
<td style="text-align:center">Push integer -1.</td>
</tr>
<tr>
<td style="text-align:center"><a href="http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-6.html#jvms-6.5.iconst_i" target="_blank" rel="external">iconst_i</a></td>
<td style="text-align:center">Integers i = 0..5.</td>
</tr>
<tr>
<td style="text-align:center"><a href="http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-6.html#jvms-6.5.lconst_l" target="_blank" rel="external">lconst_l</a></td>
<td style="text-align:center">Longs l = 0..1.</td>
</tr>
<tr>
<td style="text-align:center"><a href="http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-6.html#jvms-6.5.fconst_f" target="_blank" rel="external">fconst_f</a></td>
<td style="text-align:center">Floats f = 0.0..2.0.</td>
</tr>
<tr>
<td style="text-align:center"><a href="http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-6.html#jvms-6.5.dconst_d" target="_blank" rel="external">dconst_d</a></td>
<td style="text-align:center">Doubles d = 0.0..1.0.</td>
</tr>
</tbody>
</table>
<h4 id="Stack-Manipulation"><a href="#Stack-Manipulation" class="headerlink" title="Stack Manipulation"></a>Stack Manipulation</h4><table>
<thead>
<tr>
<th style="text-align:center">opcode</th>
<th style="text-align:center">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><a href="http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-6.html#jvms-6.5.nop" target="_blank" rel="external">nop</a></td>
<td style="text-align:center">Do nothing.</td>
</tr>
<tr>
<td style="text-align:center"><a href="http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-6.html#jvms-6.5.pop" target="_blank" rel="external">pop</a></td>
<td style="text-align:center">Pop the top word.</td>
</tr>
<tr>
<td style="text-align:center"><a href="http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-6.html#jvms-6.5.pop2" target="_blank" rel="external">pop2</a></td>
<td style="text-align:center">Pop the top two words.</td>
</tr>
<tr>
<td style="text-align:center"><a href="http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-6.html#jvms-6.5.dup" target="_blank" rel="external">dup</a></td>
<td style="text-align:center">Duplicate the top word to place 2.</td>
</tr>
<tr>
<td style="text-align:center"><a href="http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-6.html#jvms-6.5.dup2" target="_blank" rel="external">dup2</a></td>
<td style="text-align:center">Duplicate the top two words.</td>
</tr>
<tr>
<td style="text-align:center"><a href="http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-6.html#jvms-6.5.dup_x1" target="_blank" rel="external">dup_x1</a></td>
<td style="text-align:center">Duplicate the top word to place 3.</td>
</tr>
<tr>
<td style="text-align:center"><a href="http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-6.html#jvms-6.5.dup2_x1" target="_blank" rel="external">dup2_x1</a></td>
<td style="text-align:center">Duplicate the top two words to places 4 and 5.</td>
</tr>
<tr>
<td style="text-align:center"><a href="http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-6.html#jvms-6.5.dup_x2" target="_blank" rel="external">dup_x2</a></td>
<td style="text-align:center">Duplicate the top word to place 4.</td>
</tr>
<tr>
<td style="text-align:center"><a href="http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-6.html#jvms-6.5.dup2_x2" target="_blank" rel="external">dup2_x2</a></td>
<td style="text-align:center">Duplicate the top two words to places 5 and 6.</td>
</tr>
<tr>
<td style="text-align:center"><a href="http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-6.html#jvms-6.5.swap" target="_blank" rel="external">swap</a></td>
<td style="text-align:center">Swap the top two words.</td>
</tr>
</tbody>
</table>
<h3 id="Local-Variables"><a href="#Local-Variables" class="headerlink" title="Local Variables"></a>Local Variables</h3><h4 id="Push-local"><a href="#Push-local" class="headerlink" title="Push local"></a>Push local</h4><table>
<thead>
<tr>
<th style="text-align:center">opcode</th>
<th style="text-align:center">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><a href="http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-6.html#jvms-6.5.aload" target="_blank" rel="external">aload</a></td>
<td style="text-align:center">Load object from local variable n</td>
</tr>
<tr>
<td style="text-align:center"><a href="http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-6.html#jvms-6.5.aload_n" target="_blank" rel="external">aload_n</a></td>
<td style="text-align:center">Load object from local variable n : n = 0..3</td>
</tr>
<tr>
<td style="text-align:center"><a href="http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-6.html#jvms-6.5.dload" target="_blank" rel="external">dload</a></td>
<td style="text-align:center">Load double from local variable n</td>
</tr>
<tr>
<td style="text-align:center"><a href="http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-6.html#jvms-6.5.dload_n" target="_blank" rel="external">dload_n</a></td>
<td style="text-align:center">Load double from local variable n : n = 0..3</td>
</tr>
<tr>
<td style="text-align:center"><a href="http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-6.html#jvms-6.5.fload" target="_blank" rel="external">fload</a></td>
<td style="text-align:center">Load float from local variable n</td>
</tr>
<tr>
<td style="text-align:center"><a href="http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-6.html#jvms-6.5.fload_n" target="_blank" rel="external">fload_n</a></td>
<td style="text-align:center">Load float from local variable n : n = 0..3</td>
</tr>
<tr>
<td style="text-align:center"><a href="http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-6.html#jvms-6.5.iload" target="_blank" rel="external">iload</a></td>
<td style="text-align:center">Load integer from local variable n</td>
</tr>
<tr>
<td style="text-align:center"><a href="http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-6.html#jvms-6.5.iload_n" target="_blank" rel="external">iload_n</a></td>
<td style="text-align:center">Load integer from local variable n : n = 0..3</td>
</tr>
<tr>
<td style="text-align:center"><a href="http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-6.html#jvms-6.5.lload" target="_blank" rel="external">lload</a></td>
<td style="text-align:center">Load long from local variable n</td>
</tr>
<tr>
<td style="text-align:center"><a href="http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-6.html#jvms-6.5.lload_n" target="_blank" rel="external">lload_n</a></td>
<td style="text-align:center">Load long from local variable n : n = 0..3</td>
</tr>
</tbody>
</table>
<h4 id="Pop-stack-into-local-var"><a href="#Pop-stack-into-local-var" class="headerlink" title="Pop stack into local var"></a>Pop stack into local var</h4><table>
<thead>
<tr>
<th style="text-align:center">opcode</th>
<th style="text-align:center">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><a href="http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-6.html#jvms-6.5.astore" target="_blank" rel="external">astore</a></td>
<td style="text-align:center">store object in local variable n</td>
</tr>
<tr>
<td style="text-align:center"><a href="http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-6.html#jvms-6.5.astore_n" target="_blank" rel="external">astore_n</a></td>
<td style="text-align:center">store object in local variable n : n = 0..3</td>
</tr>
<tr>
<td style="text-align:center"><a href="http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-6.html#jvms-6.5.dstore" target="_blank" rel="external">dstore</a></td>
<td style="text-align:center">store double in local variable n</td>
</tr>
<tr>
<td style="text-align:center"><a href="http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-6.html#jvms-6.5.dstore_n" target="_blank" rel="external">dstore_n</a></td>
<td style="text-align:center">store double in local variable n : n = 0..3</td>
</tr>
<tr>
<td style="text-align:center"><a href="http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-6.html#jvms-6.5.fstore" target="_blank" rel="external">fstore</a></td>
<td style="text-align:center">store float in local variable n</td>
</tr>
<tr>
<td style="text-align:center"><a href="http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-6.html#jvms-6.5.fstore_n" target="_blank" rel="external">fstore_n</a></td>
<td style="text-align:center">store float in local variable n : n = 0..3</td>
</tr>
<tr>
<td style="text-align:center"><a href="http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-6.html#jvms-6.5.istore" target="_blank" rel="external">istore</a></td>
<td style="text-align:center">store integer in local variable n</td>
</tr>
<tr>
<td style="text-align:center"><a href="http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-6.html#jvms-6.5.istore_n" target="_blank" rel="external">istore_n</a></td>
<td style="text-align:center">store integer in local variable n : n = 0..3</td>
</tr>
<tr>
<td style="text-align:center"><a href="http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-6.html#jvms-6.5.lstore" target="_blank" rel="external">lstore</a></td>
<td style="text-align:center">store long in local variable n</td>
</tr>
<tr>
<td style="text-align:center"><a href="http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-6.html#jvms-6.5.lstore_n" target="_blank" rel="external">lstore_n</a></td>
<td style="text-align:center">store long in local variable n : n = 0..3</td>
</tr>
</tbody>
</table>
          <div class="post-more-link text-center">
            <a class="btn" href="/blog/java/2017/01/18/jvm-instructions-listings.html#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/blog/page/2/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/blog/">1</a><a class="page-number" href="/blog/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/blog/page/4/">4</a><span class="space">&hellip;</span><a class="page-number" href="/blog/page/89/">89</a><a class="extend next" rel="next" href="/blog/page/4/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel  sidebar-panel-active ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/blog/images/avatar.jpg"
               alt="yuweijun" />
          <p class="site-author-name" itemprop="name">yuweijun</p>
          <p class="site-description motion-element" itemprop="description"></p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/blog/archives">
              <span class="site-state-item-count">441</span>
              <span class="site-state-item-name">posts</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              
                <span class="site-state-item-count">12</span>
                <span class="site-state-item-name">categories</span>
              
            </div>
          

          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/blog/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/yuweijun" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://twitter.com/yuweijun" target="_blank" title="Twitter">
                  
                    <i class="fa fa-fw fa-twitter"></i>
                  
                  Twitter
                </a>
              </span>
            
          
        </div>

        
        

        
        

      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-github"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">yuweijun</span>
</div>

<div class="powered-by">
  Powered by <a class="theme-link" href="https://hexo.io">Hexo</a>
</div>

<div class="theme-info">
  Theme -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist.KISS
  </a>
</div>

        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>











  
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.0.0/jquery.min.js"></script>

  
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.min.js"></script>

  
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery.lazyload/1.9.1/jquery.lazyload.min.js"></script>

  
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/velocity/1.3.1/velocity.min.js"></script>

  
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/velocity/1.3.1/velocity.ui.min.js"></script>


  


  <script type="text/javascript" src="/blog/js/src/utils.js?v=5.0.1"></script>

  <script type="text/javascript" src="/blog/js/src/motion.js?v=5.0.1"></script>



  
  

  

  


  <script type="text/javascript" src="/blog/js/src/bootstrap.js?v=5.0.1"></script>



  



  




  
  

  

  

  

</body>
</html>
