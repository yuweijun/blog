<!doctype html>




<html class="theme-next mist">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />


















  

<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css" />

<link href="/blog/css/main.css?v=5.0.1" rel="stylesheet" type="text/css" />






  <link rel="alternate" href="/blog/atom.xml" title="一" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/blog/favicon.ico?v=5.0.1" />






<meta property="og:type" content="website">
<meta property="og:title" content="一">
<meta property="og:url" content="https://www.4e00.com/page/4/index.html">
<meta property="og:site_name" content="一">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="一">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Mist',
    sidebar: {"position":"left","display":"hide"},
    fancybox: false,
    motion: false,
    duoshuo: {
      userId: 0,
      author: 'Author'
    }
  };
</script>




  <link rel="canonical" href="https://www.4e00.com/blog/page/4/"/>

  <title> 一 </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="default">

  










  
  
    
  

  <div class="container one-collumn sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/blog/"  class="brand" rel="start">
      <span class="site-title">一</span>
    </a>
  </div>
  <p class="site-subtitle">{"type":"编程笔记"}</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/blog/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/blog/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      

      <li class="menu-item menu-item-search">
        <a href="https://www.google.com.hk/search?q=site%3Awww.4e00.com%2Fblog%2F" class="popup-trigger">
          <i class="menu-item-icon fa fa-search fa-fw"></i>Search
        </a>
      </li>
    </ul>
  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/blog/java/2016/12/26/the-lifetime-of-a-class.html" itemprop="url">
                  the lifetime of a class
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2016-12-26T19:57:30+08:00" content="2016-12-26">
              2016-12-26
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/blog/categories/java/" itemprop="url" rel="index">
                    <span itemprop="name">java</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>The previous chapter described in detail the format of the Java class file, the standard binary form for representing Java types. This chapter looks at what happens when binary type data is imported into a Java Virtual Machine. The chapter follows the lifetime of a type (class or interface) from the type&#39;s initial entrance into the virtual machine to its ultimate exit. It discusses the processes of loading, linking, and initialization that occur at the beginning of a class&#39;s lifetime; the processes of object instantiation, garbage collection, and finalization that can occur in the prime of a class&#39;s lifetime; and the finalization and unloading of types that can occur at the end of a class&#39;s lifetime.</p>
<h2 id="Class-Loading-Linking-and-Initialization"><a href="#Class-Loading-Linking-and-Initialization" class="headerlink" title="Class Loading, Linking, and Initialization"></a>Class Loading, Linking, and Initialization</h2><p>The Java Virtual Machine makes types available to the running program through a process of loading, linking, and initialization. Loading is the process of bringing a binary form for a type into the Java Virtual Machine. Linking is the process of incorporating the binary type data into the runtime state of the virtual machine. Linking is divided into three sub-steps: verification, preparation, and resolution. Verification ensures the type is properly formed and fit for use by the Java Virtual Machine. Preparation involves allocating memory needed by the type, such as memory for any class variables. Resolution is the process of transforming symbolic references in the constant pool into direct references. Implementations may delay the resolution step until each symbolic reference is actually used by the running program. After verification, preparation, and (optionally) resolution are completed, the type is ready for initialization. During initialization, the class variables are given their proper initial values. See Figure 7-1 for a graphical depiction of this process.</p>
<img src="/blog/img/java/jvm-class-lifetime.png" title="[jvm-class-lifetime]">
<p>As you can see from Figure 7-1, the processes of (1) loading, (2) linking, and (3) initialization must take place in that order. The only exception to this required ordering is the third phase of linking, resolution, which may optionally take place after initialization.</p>
<p>The Java Virtual Machine specification gives implementations flexibility in the timing of class and interface loading and linking, but strictly defines the timing of initialization. All implementations must initialize each class and interface on its first active use. An active use of a class is:</p>
<ol>
<li>The invocation of a constructor on a new instance of the class</li>
<li>The creation of an array that has the class as its an element type</li>
<li>The invocation of a method declared by the class (not inherited from a superclass)</li>
<li>The use or assignment of a field declared by the class (not inherited from a superclass or superinterface), except for fields that are both static and final, and are initialized by a compile-time constant expression</li>
</ol>
<p>An active use of an interface is:</p>
<ol>
<li>The use or assignment of a field declared by the interface (not inherited from a superinterface), except for fields that are initialized by a compile-time constant expression</li>
</ol>
<p>All other uses of a type besides the five listed above are passive uses of the type. Several examples illustrating the difference between active and passive uses are given later in this chapter.</p>
<p>Aside from its own initial active use, there is one other situation that will cause the initialization of a class: the initial active use of one of its subclasses. Initialization of a class requires prior initialization of all its superclasses.</p>
<p>The same is not true of interfaces, however. An interface is initialized only because a non-constant field declared by the interface is used, never because a subinterface or class that implements the interface needs to be initialized. Thus, initialization of a class requires prior initialization of all its superclasses, but not its superinterfaces. Initialization of an interface does not require initialization of its superinterfaces.</p>
<p>The &quot;initialize on first active use&quot; rule drives the mechanism that loads, links, and initializes classes. On its first active use, a type must be initialized. Before it can be initialized, however, it must be linked. And before it can be linked, it must be loaded. At their option, implementations may load and link types early. They need not wait until the type&#39;s first active use to load and link the type. If a type hasn&#39;t been loaded and linked before its first active use, however, it must be loaded and linked at that time, so that it can be initialized.</p>
<h2 id="Loading"><a href="#Loading" class="headerlink" title="Loading"></a>Loading</h2><p>The loading process consists of three basic activities. To load a type, the Java Virtual Machine must:</p>
<ol>
<li>produce a stream of binary data that represents the type</li>
<li>parse the stream of binary data into internal data structures in the method area</li>
<li>create an instance of class java.lang.Class that represents the type</li>
</ol>
<p>The stream of binary data may adhere to the Java class file format, but could alternatively follow some other format. As mentioned in previous chapters, all Java Virtual Machine implementations must recognize the Java class file format, but individual implementations may also recognize other binary formats.</p>
<p>The Java Virtual Machine specification does not say how the binary data for a type must be produced. Some potential ways to produce binary data for a type are:</p>
<ol>
<li>load a Java class file from the local file system</li>
<li>download a Java class file across a network</li>
<li>extract a Java class file from a ZIP, JAR, CAB, or other archive file</li>
<li>extract a Java class file from a proprietary database</li>
<li>compile a Java source file on the fly into the class file format</li>
<li>compute the class file data for a type on the fly</li>
<li>any of the above, but using a binary file format other than the Java class file</li>
</ol>
<p>Given the binary data for a type, the Java Virtual Machine must process that data to a great enough extent that it can create an instance of class java.lang.Class. The virtual machine must parse the binary data into implementation-dependent internal data structures. (See Chapter 5, &quot;The Java Virtual Machine,&quot; for a discussion of potential internal data structures for storing class data.) The Class instance, the end product of the loading step, serves as an interface between the program and the internal data structures. To access information about a type that is stored in the internal data structures, the program invokes methods on the Class instance for that type.</p>
<p>As described in previous chapters, types are loaded either through the primordial class loader or through class loader objects. The primordial class loader, a part of the virtual machine implementation, loads types (including the classes and interfaces of the Java API) in an implementation-dependent way. Class loader objects, instances of subclasses of java.lang.ClassLoader, load classes in custom ways. The inner workings of class loader objects are described in more detail later in Chapter 8, &quot;The Linking Model.&quot;</p>
<p>Class loaders (primordial or object) need not wait until a type&#39;s first active use before they load the type. Class loaders are allowed to cache binary representations of types, load types early in anticipation of eventual use, or load types together in related groups. If a class loader encounters a problem during early loading, however, it must report that problem (by throwing a subclass of LinkageError) only upon the type&#39;s first active use. In other words, if a class loader encounters a missing or malformed class file during early loading, it must wait to report that error until the class&#39;s first active use by the program. If the class is never actively used by the program, the class loader will never report the error.</p>
          <div class="post-more-link text-center">
            <a class="btn" href="/blog/java/2016/12/26/the-lifetime-of-a-class.html#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/blog/java/2016/12/25/java-class-file.html" itemprop="url">
                  java class file
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2016-12-25T10:37:37+08:00" content="2016-12-25">
              2016-12-25
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/blog/categories/java/" itemprop="url" rel="index">
                    <span itemprop="name">java</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <h2 id="The-Java-Class-File"><a href="#The-Java-Class-File" class="headerlink" title="The Java Class File"></a>The Java Class File</h2><p>The previous chapter, the first of Part II, &quot;Java Internals,&quot; gave an overview of the Java Virtual Machine. The next four chapters will focus on different aspects of the Java Virtual Machine. This chapter takes a look at the Java class file. It describes the contents of the class file, including the structure and format of the constant pool. This chapter serves as a complete reference of the Java class file format.</p>
<p>Accompanying this chapter on the CD-ROM is an applet that interactively illustrates the material presented in the chapter. The applet, named Getting Loaded, simulates the Java Virtual Machine loading a Java class file. At the end of this chapter, you will find a description of this applet and an instructions on how to use it.</p>
<h3 id="What-is-a-Java-Class-File"><a href="#What-is-a-Java-Class-File" class="headerlink" title="What is a Java Class File?"></a>What is a Java Class File?</h3><p>The Java class file is a precisely defined binary file format for Java programs. Each Java class file represents a complete description of one Java class or interface. There is no way to put more than one class or interface into a single class file. The precise definition of the class file format ensures that any Java class file can be loaded and correctly interpreted by any Java Virtual Machine, no matter what system produced the class file or what system hosts the virtual machine.</p>
<p>Although the class file is related to the Java language architecturally, it is not inextricably linked to the Java language. As shown in Figure 6-1, you could write programs in other languages and compile them to class files, or you could compile your Java programs to a different binary file format. Nevertheless, most Java programmers will likely use the class file as the primary vehicle for delivering their programs to Java Virtual Machines.</p>
<img src="/blog/img/java/class-file/java-class-file.png" title="[java-language-class-file]">
<p>As mentioned in earlier chapters, the Java class file is a binary stream of 8-bit bytes. Data items are stored sequentially in the class file with no padding between adjacent items. The lack of padding helps keep class files compact. Items that occupy more than one byte are split up into several consecutive bytes that appear in big-endian (higher bytes first) order.</p>
<p>Just as your Java classes can contain varying numbers of fields, methods, method parameters, local variables, and so on, the Java class file can contain many items that vary in size or number from one class file to another. In the class file, the size or length of a variable-length item precedes the actual data for the item. This allows class file streams to be parsed from beginning to end, reading in the size of an item first followed by the item data.</p>
<h3 id="What-39-s-in-a-Class-File"><a href="#What-39-s-in-a-Class-File" class="headerlink" title="What&#39;s in a Class File?"></a>What&#39;s in a Class File?</h3><p>The Java class file contains everything a Java Virtual Machine needs to know about one Java class or interface. The remainder of this chapter describes the class file format using tables. Each table has a name and shows an ordered list of items that can appear in a class file. Items appear in the table in the order in which they appear in the class file. Each item has a type, a name, and a count. The type is either a table name or one of the &quot;primitive types&quot; shown in Table 6-1. All values stored in items of type u2, u4, and u8 appear in the class file in big-endian order.</p>
<p><strong>Table 6-1. Class file &quot;primitive types&quot;</strong></p>
<table>
<thead>
<tr>
<th style="text-align:center">Type</th>
<th style="text-align:center">Bytes</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">u1</td>
<td style="text-align:center">a single unsigned byte</td>
</tr>
<tr>
<td style="text-align:center">u2</td>
<td style="text-align:center">two unsigned bytes</td>
</tr>
<tr>
<td style="text-align:center">u4</td>
<td style="text-align:center">four unsigned bytes</td>
</tr>
<tr>
<td style="text-align:center">u8</td>
<td style="text-align:center">eight unsigned bytes</td>
</tr>
</tbody>
</table>
<p>The major components of the class file, in their order of appearance in the class file, are shown in Table 6-2. Each of these components is described in more detail below.</p>
<p><strong>Table 6-2. Format of a ClassFile Table</strong></p>
<table>
<thead>
<tr>
<th style="text-align:center">Type</th>
<th style="text-align:center">Name</th>
<th style="text-align:center">Count</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">u4</td>
<td style="text-align:center">magic</td>
<td style="text-align:center">1</td>
</tr>
<tr>
<td style="text-align:center">u2</td>
<td style="text-align:center">minor_version</td>
<td style="text-align:center">1</td>
</tr>
<tr>
<td style="text-align:center">u2</td>
<td style="text-align:center">major_version</td>
<td style="text-align:center">1</td>
</tr>
<tr>
<td style="text-align:center">u2</td>
<td style="text-align:center">constant_pool_count</td>
<td style="text-align:center">1</td>
</tr>
<tr>
<td style="text-align:center">cp_info</td>
<td style="text-align:center">constant_pool</td>
<td style="text-align:center">constant_pool_count</td>
</tr>
<tr>
<td style="text-align:center">u2</td>
<td style="text-align:center">access_flags</td>
<td style="text-align:center">1</td>
</tr>
<tr>
<td style="text-align:center">u2</td>
<td style="text-align:center">this_class</td>
<td style="text-align:center">1</td>
</tr>
<tr>
<td style="text-align:center">u2</td>
<td style="text-align:center">super_class</td>
<td style="text-align:center">1</td>
</tr>
<tr>
<td style="text-align:center">u2</td>
<td style="text-align:center">interfaces_count</td>
<td style="text-align:center">1</td>
</tr>
<tr>
<td style="text-align:center">u2</td>
<td style="text-align:center">interfaces</td>
<td style="text-align:center">interfaces_count</td>
</tr>
<tr>
<td style="text-align:center">u2</td>
<td style="text-align:center">fields_count</td>
<td style="text-align:center">1</td>
</tr>
<tr>
<td style="text-align:center">field_info</td>
<td style="text-align:center">fields</td>
<td style="text-align:center">fields_count</td>
</tr>
<tr>
<td style="text-align:center">u2</td>
<td style="text-align:center">methods_count</td>
<td style="text-align:center">1</td>
</tr>
<tr>
<td style="text-align:center">method_info</td>
<td style="text-align:center">methods</td>
<td style="text-align:center">mehtods_count</td>
</tr>
<tr>
<td style="text-align:center">u2</td>
<td style="text-align:center">attributes_count</td>
<td style="text-align:center">1</td>
</tr>
<tr>
<td style="text-align:center">attribute_info</td>
<td style="text-align:center">attributes</td>
<td style="text-align:center">attributes_count</td>
</tr>
</tbody>
</table>
          <div class="post-more-link text-center">
            <a class="btn" href="/blog/java/2016/12/25/java-class-file.html#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/blog/java/2016/12/16/java-command-line-options.html" itemprop="url">
                  java command line options
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2016-12-16T08:52:13+08:00" content="2016-12-16">
              2016-12-16
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/blog/categories/java/" itemprop="url" rel="index">
                    <span itemprop="name">java</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">$&gt; java -showversion -help</div><div class="line">&gt; java version &quot;1.8.0_66&quot;</div><div class="line">&gt; Java(TM) SE Runtime Environment (build 1.8.0_66-b17)</div><div class="line">&gt; Java HotSpot(TM) 64-Bit Server VM (build 25.66-b17, mixed mode)</div><div class="line">&gt;</div><div class="line">&gt; Usage: java [-options] class [args...]</div><div class="line">&gt;            (to execute a class)</div><div class="line">&gt;    or  java [-options] -jar jarfile [args...]</div><div class="line">&gt;            (to execute a jar file)</div><div class="line">&gt; where options include:</div><div class="line">&gt;     -d32          use a 32-bit data model if available</div><div class="line">&gt;     -d64          use a 64-bit data model if available</div><div class="line">&gt;     -server       to select the &quot;server&quot; VM</div><div class="line">&gt;                   The default VM is server,</div><div class="line">&gt;                   because you are running on a server-class machine.</div><div class="line">&gt;</div><div class="line">&gt;</div><div class="line">&gt;     -cp &lt;class search path of directories and zip/jar files&gt;</div><div class="line">&gt;     -classpath &lt;class search path of directories and zip/jar files&gt;</div><div class="line">&gt;                   A : separated list of directories, JAR archives,</div><div class="line">&gt;                   and ZIP archives to search for class files.</div><div class="line">&gt;     -D&lt;name&gt;=&lt;value&gt;</div><div class="line">&gt;                   set a system property</div><div class="line">&gt;     -verbose:[class|gc|jni]</div><div class="line">&gt;                   enable verbose output</div><div class="line">&gt;     -version      print product version and exit</div><div class="line">&gt;     -version:&lt;value&gt;</div><div class="line">&gt;                   Warning: this feature is deprecated and will be removed</div><div class="line">&gt;                   in a future release.</div><div class="line">&gt;                   require the specified version to run</div><div class="line">&gt;     -showversion  print product version and continue</div><div class="line">&gt;     -jre-restrict-search | -no-jre-restrict-search</div><div class="line">&gt;                   Warning: this feature is deprecated and will be removed</div><div class="line">&gt;                   in a future release.</div><div class="line">&gt;                   include/exclude user private JREs in the version search</div><div class="line">&gt;     -? -help      print this help message</div><div class="line">&gt;     -X            print help on non-standard options</div><div class="line">&gt;     -ea[:&lt;packagename&gt;...|:&lt;classname&gt;]</div><div class="line">&gt;     -enableassertions[:&lt;packagename&gt;...|:&lt;classname&gt;]</div><div class="line">&gt;                   enable assertions with specified granularity</div><div class="line">&gt;     -da[:&lt;packagename&gt;...|:&lt;classname&gt;]</div><div class="line">&gt;     -disableassertions[:&lt;packagename&gt;...|:&lt;classname&gt;]</div><div class="line">&gt;                   disable assertions with specified granularity</div><div class="line">&gt;     -esa | -enablesystemassertions</div><div class="line">&gt;                   enable system assertions</div><div class="line">&gt;     -dsa | -disablesystemassertions</div><div class="line">&gt;                   disable system assertions</div><div class="line">&gt;     -agentlib:&lt;libname&gt;[=&lt;options&gt;]</div><div class="line">&gt;                   load native agent library &lt;libname&gt;, e.g. -agentlib:hprof</div><div class="line">&gt;                   see also, -agentlib:jdwp=help and -agentlib:hprof=help</div><div class="line">&gt;     -agentpath:&lt;pathname&gt;[=&lt;options&gt;]</div><div class="line">&gt;                   load native agent library by full pathname</div><div class="line">&gt;     -javaagent:&lt;jarpath&gt;[=&lt;options&gt;]</div><div class="line">&gt;                   load Java programming language agent, see java.lang.instrument</div><div class="line">&gt;     -splash:&lt;imagepath&gt;</div><div class="line">&gt;                   show splash screen with specified image</div><div class="line">&gt; See http://www.oracle.com/technetwork/java/javase/documentation/index.html for more details.</div></pre></td></tr></table></figure>
<h2 id="常用命令行部分选项说明"><a href="#常用命令行部分选项说明" class="headerlink" title="常用命令行部分选项说明"></a>常用命令行部分选项说明</h2><ol>
<li><code>-cp</code>、<code>-classpath</code>：目录和压缩的或<code>.jar</code>文件通过<code>:</code>（在Windows上通过<code>;</code>）来分隔。设置应用程序类和资源的搜索路径。如果不使用<code>-classpath</code>和<code>-cp</code>，也不设置<code>CLASSPATH</code>环境变量，那么缺省情况下，用户类路径是当前目录<code>.</code>。</li>
<li><code>-help</code>、<code>-?</code>：打印使用消息。</li>
<li><code>-fullversion</code>：印出JVM的构建和版本信息。</li>
<li><code>-showversion</code>：打印产品版本并继续。</li>
<li><code>-verbose:&lt;option&gt;[,&lt;option&gt;...]</code>：启用详细输出。使用逗号分隔多个选项。可用选项为：<ol>
<li><code>class</code>：为装入的每个类的<code>stderr</code>写入一个条目。</li>
<li><code>gc</code>：提供详细的垃圾回收信息。</li>
<li><code>jni</code>：向<code>stderr</code>写入信息，描述应用程序和JVM所调用的<code>JNI</code>服务。</li>
</ol>
</li>
<li><code>-version</code>：印出JVM的完全构建和版本信息。</li>
</ol>
          <div class="post-more-link text-center">
            <a class="btn" href="/blog/java/2016/12/16/java-command-line-options.html#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/blog/linux/2016/12/03/git-merge-losts-commits.html" itemprop="url">
                  git merge losts commits
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2016-12-03T09:56:11+08:00" content="2016-12-03">
              2016-12-03
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/blog/categories/linux/" itemprop="url" rel="index">
                    <span itemprop="name">linux</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>下面的脚本重现了一个<code>git</code>分支合并的误操作，导致分支合并后，虽然在提交历史上可以看到每个<code>commit</code>，但是<code>feature</code>分支上提交的修改丢失了。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">[ -a git-merge-head.git ] &amp;&amp; rm -rf git-merge-head.git</div><div class="line">[ -a git-merge-head-logs ] &amp;&amp; rm -rf git-merge-head-logs</div><div class="line"></div><div class="line">git --bare init git-merge-head.git</div><div class="line">git <span class="built_in">clone</span> git-merge-head.git git-merge-head-logs</div><div class="line"></div><div class="line"><span class="built_in">cd</span> git-merge-head-logs/</div><div class="line"><span class="built_in">echo</span> <span class="string">"1"</span> &gt; v01-master.txt</div><div class="line">git add -A &amp;&amp; git commit -m <span class="string">"v01-master"</span></div><div class="line"></div><div class="line">git checkout -b feature</div><div class="line"><span class="built_in">echo</span> <span class="string">"2"</span> &gt;&gt; v01-master.txt</div><div class="line">git add -A &amp;&amp; git commit -m <span class="string">"v02-feature"</span></div><div class="line"></div><div class="line">git checkout master</div><div class="line"><span class="built_in">echo</span> <span class="string">"3"</span> &gt; v03-master.txt</div><div class="line">git add -A &amp;&amp; git commit -m <span class="string">"v03-master"</span></div><div class="line"></div><div class="line"><span class="comment">#1</span></div><div class="line">git merge feature -m <span class="string">""</span></div><div class="line"></div><div class="line"><span class="comment">#2</span></div><div class="line">git reset .</div><div class="line"></div><div class="line"><span class="comment">#3</span></div><div class="line">git checkout .</div><div class="line"></div><div class="line">git commit -m <span class="string">"commit version lost modification of v02-feature"</span></div><div class="line"></div><div class="line"><span class="built_in">echo</span> <span class="string">"4"</span> &gt; v04-master.txt</div><div class="line">git add -A &amp;&amp; git commit -m <span class="string">"v04-master"</span></div><div class="line"></div><div class="line"><span class="built_in">echo</span> <span class="string">"5"</span> &gt; v05-master.txt</div><div class="line">git add -A &amp;&amp; git commit -m <span class="string">"v05-master"</span></div><div class="line"></div><div class="line">cat v01-master.txt</div></pre></td></tr></table></figure>
<h2 id="问题说明"><a href="#问题说明" class="headerlink" title="问题说明"></a>问题说明</h2><p>可以看到上述命令最后<code>cat v01-master.txt</code>命令，其输出的文件内容如下，可以看到<code>feature</code>分支中的修改丢失掉了。</p>
<blockquote>
<p>1</p>
</blockquote>
<p>使用<code>git log -- v01-master.txt</code>命令查看文件提交历史，只有<code>master</code>分支的提交历史，<code>feature</code>分支的提交丢失了。</p>
<blockquote>
<p>db8ba5a v01-master</p>
</blockquote>
<h3 id="错误分析"><a href="#错误分析" class="headerlink" title="错误分析"></a>错误分析</h3><p>第一个出错的操作<code>#1</code>，在合并分支时，因为没有提交版本的说明，导致合并没完成，没有产生合并操作的<code>commit</code>，但这个时间合并的内容已经被加入了<code>git</code>的<code>index</code>暂存区，如果此时手工<code>commit</code>这2个分支的合并操作，完全是没问题的。此时的<code>git status</code>输出如下：</p>
<blockquote>
<p>On branch master</p>
<p>All conflicts fixed but you are still merging.</p>
<p>  (use &quot;git commit&quot; to conclude merge)</p>
<p>Changes to be committed:</p>
<pre><code>modified:   v01-master.txt
</code></pre></blockquote>
<p>接下来第二个出错的操作<code>#2</code>，<code>git reset .</code>操作默认是<code>mixed</code>模式，会回滚<code>index</code>暂存区和本地仓库到指定的版本，所有的修改内容仍然是存在于当前<code>git</code>的工作空间的，分支中的内容可以<code>git add</code>之后再<code>git commit</code>，仍然不会丢失，此时的<code>git status</code>输出如下：</p>
<blockquote>
<p>On branch master</p>
<p>All conflicts fixed but you are still merging.</p>
<p>  (use &quot;git commit&quot; to conclude merge)</p>
<p>Changes not staged for commit:</p>
<p>  (use &quot;git add <file>...&quot; to update what will be committed)</file></p>
<p>  (use &quot;git checkout -- <file>...&quot; to discard changes in working directory)</file></p>
<pre><code>modified:   v01-master.txt
</code></pre><p>no changes added to commit (use &quot;git add&quot; and/or &quot;git commit -a&quot;)</p>
</blockquote>
<p>最后第三步操作<code>#3</code>是版本修改丢失的关键原因，它通过<code>git checkout .</code>操作从<code>index</code>暂存区恢复代码到工作空间，将本地工作空间中的修改直接覆盖掉了，导致了此次合并中<code>feature</code>分支的修改丢失了。</p>
<p>其实上面<code>#2</code>和<code>#3</code>这2步操作接近于做了一次<code>git reset --hard</code>操作，只是因为之前的<code>git merge</code>操作没有完成，所以在<code>.git</code>目录里仍然存在<code>MERGE_HEAD</code>、<code>MERGE_MODE</code>和<code>MERGE_MSG</code>文件，可以继续提交此次合并操作，但实际上所有的代码已经被还原了。</p>
          <div class="post-more-link text-center">
            <a class="btn" href="/blog/linux/2016/12/03/git-merge-losts-commits.html#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/blog/java/2016/11/20/java-method-handle.html" itemprop="url">
                  java method handle
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2016-11-20T16:28:57+08:00" content="2016-11-20">
              2016-11-20
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/blog/categories/java/" itemprop="url" rel="index">
                    <span itemprop="name">java</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p><code>JDK 7</code>以前字节码指令集中，四条方法调用指令<code>invokevirtual</code>、<code>invokespecial</code>、<code>invokestatic</code>、<code>invokeinterface</code>的第一个参数都是被调用的方法的符号引用<code>CONSTANT_Methodref_info</code>或者<code>CONSTANT_InterfaceMethodref_info</code>常量，方法的符号引用在编译时产生，而动态类型语言只有在运行期才能确定接收者类型，为了在Java虚拟机层面上提供动态类型的直接支持，在<code>JDK 7</code>中新增了<code>invokedynamic</code>指令。</p>
<p><code>JDK 7</code>实现了<code>JSR 292</code>《Supporting Dynamically Typed Languages on the Java Platform》，<code>JSR 292</code>主要服务的对象是JVM上动态语言的实现。</p>
<p>新加入的<code>java.lang.invoke</code>包是就是<code>JSR 292</code>的一个重要组成部分，这个包的主要目的是在之前单纯依靠符号引用来确定调用的目标方法这条路之外，提供一种新的动态确定目标方法的机制，称为<code>MethodHandle</code>。</p>
<p><code>MethodHandle</code>可以指向任意方法，提供为方法创建“别名”的能力，可以用统一的方式去调用<code>MethodHandle</code>。此外，<code>MethodHandle</code>还支持组合，可以以适配器的方式将多个<code>MethodHandle</code>串在一起，实现参数过滤、参数转换、返回值转换等许多功能。</p>
<p>目前通过benchmark测试的结果来看，调用<code>MethodHandle</code>的速度是最慢的，距调用接口方法的速度还是有较明显的差距，下面会测试代码详细说明。</p>
<p><code>MethodHandle</code>对许多JVM的内部实现来说并不是一个全新的概念。要实现JVM，在内部总会保留一些指向方法的指针，<code>JDK 7</code>只是把它（和其它许多JVM里原本就支持的概念）具体化为Java类型暴露给Java代码用而已，这就是所谓的<a href="https://en.wikipedia.org/wiki/Reification_%28computer_science%29" target="_blank" rel="external">reification</a>。</p>
<p><code>MethodHandle</code>的主要要解决的问题就是“要高效的调用编译时已知签名但具体目标未知的方法”，其主要还是为JVM上的动态语言的实现服务，并不是面向普通的Java程序员的，换个说法就是对普通Java程序员来说并不是很常用的。</p>
<h2 id="MethodHandle示例"><a href="#MethodHandle示例" class="headerlink" title="MethodHandle示例"></a>MethodHandle示例</h2><figure class="highlight java"><table><tr><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SimpleDynamicInvoker</span> </span>&#123;</div><div class="line"></div><div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">InvokeDynamicA</span> </span>&#123;</div><div class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">array</span><span class="params">(String[] args)</span> </span>&#123;</div><div class="line">            <span class="keyword">int</span> length = args.length;</div><div class="line">            System.out.println(<span class="keyword">this</span>.getClass().getSimpleName() + <span class="string">" : arguments length is : "</span> + length);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">InvokeDynamicB</span> </span>&#123;</div><div class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">array</span><span class="params">(String[] args)</span> </span>&#123;</div><div class="line">            <span class="keyword">int</span> length = args.length;</div><div class="line">            System.out.println(<span class="keyword">this</span>.getClass().getSimpleName() + <span class="string">" : arguments length is : "</span> + length);</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">list</span><span class="params">(List&lt;String&gt; args)</span> </span>&#123;</div><div class="line">            <span class="keyword">int</span> length = args.size();</div><div class="line">            System.out.println(<span class="string">"list size is : "</span> + length);</div><div class="line">            <span class="keyword">return</span> length;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Throwable </span>&#123;</div><div class="line">        InvokeDynamicB invokeDynamicB = <span class="keyword">new</span> InvokeDynamicB();</div><div class="line">        MethodHandles.Lookup lookup = MethodHandles.lookup(); <span class="comment">// 1</span></div><div class="line"></div><div class="line">        <span class="comment">// instance method invoke</span></div><div class="line">        MethodType methodType = MethodType.methodType(<span class="keyword">void</span>.class, String[].class); <span class="comment">// 2</span></div><div class="line">        MethodHandle methodHandle = lookup.findVirtual(InvokeDynamicB.class, <span class="string">"array"</span>, methodType).bindTo(invokeDynamicB); <span class="comment">// 3</span></div><div class="line">        methodHandle.invoke(<span class="keyword">new</span> String[]&#123;<span class="string">"abc"</span>, <span class="string">"def"</span>, <span class="string">"ghi"</span>&#125;); <span class="comment">// 4</span></div><div class="line"></div><div class="line">        <span class="comment">// bind the same methodType and methodName to another instance</span></div><div class="line">        methodHandle = lookup.findVirtual(InvokeDynamicA.class, <span class="string">"array"</span>, methodType).bindTo(<span class="keyword">new</span> InvokeDynamicA());</div><div class="line">        methodHandle.invokeExact(<span class="keyword">new</span> String[]&#123;<span class="string">"abc"</span>, <span class="string">"def"</span>, <span class="string">"ghi"</span>&#125;);</div><div class="line"></div><div class="line">        <span class="comment">// static method invoke</span></div><div class="line">        methodType = MethodType.methodType(<span class="keyword">int</span>.class, java.util.List.class);</div><div class="line">        methodHandle = lookup.findStatic(InvokeDynamicB.class, <span class="string">"list"</span>, methodType);</div><div class="line">        List&lt;String&gt; list = Lists.newArrayList(<span class="string">"abc"</span>, <span class="string">"def"</span>, <span class="string">"ghi"</span>);</div><div class="line"></div><div class="line">        <span class="comment">// 必须指明返回类型为int，满足methodType的要求，否则抛异常：expected (List)int but found (List)Object</span></div><div class="line">        <span class="comment">// Object length = methodHandle.invokeExact(list);</span></div><div class="line">        <span class="keyword">int</span> length = (<span class="keyword">int</span>) methodHandle.invokeExact(list);</div><div class="line">        System.out.println(length);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>这个例子用到的是<code>MethodHandles</code>、<code>MethodHandles.Lookup</code>、<code>MethodType</code>、<code>MethodHandle</code>几个类。代码执行流程：</p>
<ol>
<li>调用<code>MethodHandles.lookup()</code>方法，遍历调用栈检查访问权限，然后得到一个<code>MethodHandles.Lookup</code>实例；该对象用于确认创建<code>MethodHandle</code>的实例的类对目标方法的访问权限是否满足要求，并提供搜索目标方法的逻辑。</li>
<li>指定目标方法的<code>方法类型</code>，得到一个<code>MethodType</code>实例。</li>
<li>通过<code>MethodHandles.lookup()</code>静态方法得到一个类型为<code>MethodHandles.Lookup</code>的工厂，然后靠它搜索指定的类型、指定的名字、指定的方法类型的方法，得到一个<code>MethodHandle</code>实例。</li>
<li>调用<code>MethodHandle</code>上的<code>invoke()</code>方法，或者是<code>invokeExact()</code>这样与虚拟机指令直接关联的相关方法。</li>
</ol>
<p>其中，第1步中调用的<code>MethodType.methodType()</code>方法接收的参数是一组类型，第一个参数是<code>返回类型</code>，后面依次是各个<code>参数类型</code>。</p>
<p>第2步调用中<code>MethodType.methodType(void.class, String[].class)</code>得到的就是一个返回类型为<code>void</code>，参数列表为<code>String[]</code>类型的方法类型。而这个方法类型在class字节码文件中的描述符就是:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">descriptor: ([Ljava/lang/String;)V</div></pre></td></tr></table></figure>
<p><code>MethodType</code>的实例只代表所有<code>返回值类型</code>与<code>参数类型</code>匹配的一类方法的<code>方法类型</code>，自身没有名字；在检查某个方法是否与某个<code>MethodType</code>匹配时只考虑结构，可以算是一种特殊的<code>structural-typing</code>。</p>
<p>第2步看起来跟普通的反射很像，但通过反射得到的代表方法的对象是<code>java.lang.reflect.Method</code>的实例，它含有许多跟“执行”没有直接关系的信息，比较笨重；通过<code>Method</code>对象调用方法只是正常方法调用的模拟，所有参数会被包装为一个数组，开销较大。而<code>MethodHandle</code>则是个非常轻量的对象，主要目的就是用来引用方法并调用；通过它去调用方法不会导致参数被包装，原始类型的参数也不会被自动装箱。</p>
<p><code>MethodHandles.Lookup</code>对象上有三个<code>find</code>方法，包括<code>findStatic()</code>、<code>findVirtual()</code>、<code>findSpecial()</code>，分别对应<code>invokestatic</code>、<code>invokevirtual &amp; invokeinterface</code>、<code>invokespecial</code>这4个虚拟机指令。</p>
<p>注意第3步中<code>findVirtual()</code>方法所返回的<code>MethodHandle</code>的方法类型会通过<code>bindTo(Object)</code>显式绑定到一个具体的实例对象上；调用虚方法的<code>MethodHandle</code>要显式传入方法接收者<code>receiver</code>。</p>
<p>而下面的<code>findStatic()</code>方法则不需要再调用<code>bindTo(Object)</code>方法进行对象绑定。</p>
<p><code>MethodHandle</code>的方法类型不是Java语言的静态类型系统的一部分。虽然它的实例在运行时带有方法类型信息（<code>MethodType</code>），但在编译时Java编译器却不知道这一点。所以在编译时，调用<code>invoke</code>时传入任意个数、任意类型的参数都可以通过编译；但在运行时要成功调用，由Java编译器推断出来的<code>返回值类型</code>与<code>参数列表</code>必须与运行时<code>MethodHandle</code>实际的方法类型一致，否则会抛出<code>WrongMethodTypeException</code>，可以参考上述例子最后的注释说明。</p>
<p>从上面的例子看来，使用<code>MethodHandle</code>并没有多少困难，不过看完它的用法之后，自然会与java的反射<code>Reflection</code>产生对比。</p>
<p>仅站在Java语言的角度看，<code>MethodHandle</code>的使用方法和效果上与<code>Reflection</code>都有众多相似之处。不过，它们也有以下这些区别：</p>
<ol>
<li><code>Reflection</code>和<code>MethodHandle</code>机制本质上都是在模拟方法调用，但是<code>Reflection</code>是在模拟Java代码层次的方法调用，而<code>MethodHandle</code>是在模拟字节码层次的方法调用。在<code>MethodHandles.Lookup</code>上的三个方法<code>findStatic()</code>、<code>findVirtual()</code>、<code>findSpecial()</code>正是为了对应于<code>invokestatic</code>、<code>invokevirtual &amp; invokeinterface</code>和<code>invokespecial</code>这几条字节码指令的执行权限校验行为，而这些底层细节在使用<code>Reflection API</code>时是不需要关心的。</li>
<li><code>Reflection</code>中的<code>java.lang.reflect.Method</code>对象远比<code>MethodHandle</code>机制中的<code>java.lang.invoke.MethodHandle</code>对象所包含的信息来得多。前者是方法在Java一端的全面映像，包含了方法的签名、描述符以及方法属性表中各种属性的Java端表示方式，还包含有执行权限等的运行期信息。而后者仅仅包含着与执行该方法相关的信息。用开发人员通俗的话来讲，<code>Reflection</code>是重量级，而<code>MethodHandle</code>是轻量级。</li>
<li><code>MethodHandle</code>与<code>Reflection</code>除了上面列举的区别外，最关键的一点在于：<code>Reflection API</code>的设计目标是只为Java语言服务的，而<code>MethodHandle</code>则设计为可服务于所有Java虚拟机之上的语言，其中也包括了Java语言而已。</li>
</ol>
<p>某种程度上可以说<code>invokedynamic</code>指令与<code>MethodHandle</code>机制的作用是一样的，都是为了解决原有四条<code>invoke*</code>指令方法分派规则固化在虚拟机之中的问题，把如何查找目标方法的决定权从虚拟机转嫁到具体用户代码之中，让用户（包含其他语言的设计者）有更高的自由度。</p>
          <div class="post-more-link text-center">
            <a class="btn" href="/blog/java/2016/11/20/java-method-handle.html#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/blog/page/3/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/blog/">1</a><span class="space">&hellip;</span><a class="page-number" href="/blog/page/3/">3</a><span class="page-number current">4</span><a class="page-number" href="/blog/page/5/">5</a><span class="space">&hellip;</span><a class="page-number" href="/blog/page/89/">89</a><a class="extend next" rel="next" href="/blog/page/5/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel  sidebar-panel-active ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/blog/images/avatar.jpg"
               alt="yuweijun" />
          <p class="site-author-name" itemprop="name">yuweijun</p>
          <p class="site-description motion-element" itemprop="description"></p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/blog/archives">
              <span class="site-state-item-count">441</span>
              <span class="site-state-item-name">posts</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              
                <span class="site-state-item-count">12</span>
                <span class="site-state-item-name">categories</span>
              
            </div>
          

          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/blog/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/yuweijun" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://twitter.com/yuweijun" target="_blank" title="Twitter">
                  
                    <i class="fa fa-fw fa-twitter"></i>
                  
                  Twitter
                </a>
              </span>
            
          
        </div>

        
        

        
        

      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-github"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">yuweijun</span>
</div>

<div class="powered-by">
  Powered by <a class="theme-link" href="https://hexo.io">Hexo</a>
</div>

<div class="theme-info">
  Theme -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist.KISS
  </a>
</div>

        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>











  
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.0.0/jquery.min.js"></script>

  
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.min.js"></script>

  
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery.lazyload/1.9.1/jquery.lazyload.min.js"></script>

  
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/velocity/1.3.1/velocity.min.js"></script>

  
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/velocity/1.3.1/velocity.ui.min.js"></script>


  


  <script type="text/javascript" src="/blog/js/src/utils.js?v=5.0.1"></script>

  <script type="text/javascript" src="/blog/js/src/motion.js?v=5.0.1"></script>



  
  

  

  


  <script type="text/javascript" src="/blog/js/src/bootstrap.js?v=5.0.1"></script>



  



  




  
  

  

  

  

</body>
</html>
